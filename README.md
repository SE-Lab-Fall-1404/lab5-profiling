آزمایش Profiling نرم‌‌افزار

با تجزیه و تحلیل کد پروژه و اجرای Profiling با Yourkit، تابع `temp()` در کلاس `JavaCup.java` بیشترین مصرف منابع (CPU و حافظه) را دارد. دلیل آن این است که این تابع دو حلقه تو در تو با 10000 × 20000 تکرار (یعنی 200 میلیون بار) اجرا می‌شود و در هر تکرار یک مقدار به ArrayList اضافه می‌کند که منجر به تخصیص حافظه زیاد و بار پردازشی بالا می‌شود.

**بهینه‌سازی پیشنهادی:**

به جای استفاده از `ArrayList<Integer>` که باعث Boxing/Unboxing و تخصیص حافظه زیاد می‌شود، می‌توانیم از یک آرایه ساده (`int[]`) استفاده کنیم و محاسبات را به صورت دسته‌ای انجام دهیم. همچنین می‌توانیم از `StringBuilder` برای ساخت رشته‌ها استفاده کنیم تا مصرف حافظه موقت کاهش یابد.

**مزایای بهینه‌سازی:**

1. **کاهش مصرف حافظه:** استفاده از `int[]` به جای `ArrayList<Integer>` از Boxing/Unboxing جلوگیری می‌کند.
2. **کاهش تخصیص حافظه:** `StringBuilder` با پیش‌تخمین اندازه، تعداد دفعات تخصیص حافظه جدید را کاهش می‌دهد.
3. **افزایش سرعت:** دسترسی مستقیم به آرایه سریع‌تر از ArrayList است.
4. **حفظ منطق کد:** تمام محاسبات قبلی انجام می‌شود و هیچ بخشی از کد حذف یا کامنت نشده است.

**نتایج مورد انتظار پس از Profiling مجدد:**
- مصرف CPU در تابع `tempOptimized()` کاهش می‌یابد.
- تخصیص اشیا (Object Allocation) به شدت کاهش می‌یابد.
- مصرف حافظه (Memory Usage) پایدارتر می‌شود.

این تغییرات بدون تغییر در منطق برنامه و تنها با بهینه‌سازی ساختار داده و الگوریتم صورت گرفته است.